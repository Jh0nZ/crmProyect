<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>test</title>
    <link rel="stylesheet" href="/resources/lib/bootstrap.min.css">

    <style>
        body {
            padding: 0;
            margin: 0;
            overflow: hidden;
        }

        .principal {
            background-color: greenyellow;
            height: 100vh;
        }

        .principalMovil {
            background-color: #ffebbb;
            height: 100vh;
        }

        .boton-bar {
            height: 10%;
        }

        .contenidoMovil {
            height: 90%;
            background-color: azure;
        }

        .botonesNavMovil {
            text-decoration: none;
            text-align: center;
            font-size: 14px;
            font-weight: 600;
            padding: 8px;
            color: #233142;
        }

        .botonesNavMovil p {

            font-size: 12px;
        }

        .active {
            color: #f95959;
        }
    </style>
    <style>
        .principalPC {
            height: 100vh;
        }

        .contenedorPC {
            height: 100%;
        }

        .barraLateral {
            background-color: #ffebbb;
            height: 100%;
            box-sizing: border-box;
            align-items: center;
            padding: 10px;
            gap: 20px;
        }

        .barraLateral a {
            padding: 10px;
            font-size: 1em;
            font-weight: 600;
            width: 100%;
            text-align: center;
        }

        .contenidoPc {
            background-color: #f95959;
            height: 100%;
            box-sizing: border-box;
        }

        .botonBarraLateral {
            text-decoration: none;
            color: #233142;
        }

        .active {
            color: #f95959;
        }

        .barraSuperior {
            background-color: aliceblue;
            height: 5%;
            padding: 10px;
            align-content: center;
        }

        .fasesContenedor {
            background-color: aqua;
            height: 95%;
            padding: 20px;
            overflow-x: auto;
            gap: 20px;
            margin: 0;

        }

        .buscadorTexto {
            border-radius: 5px;

        }

        .addNewButton {
            justify-content: end;
        }

        .faseContenedor {
            background-color: #ffebbb;
            min-width: 300px;
            max-width: 300px;
            border-radius: 5px;
        }
        .cliente {
            background-color: chartreuse;
            color: black;
            padding: 10px;
            margin: 5px;
            border-radius: 5px;
        }
        .card-body {
            height: 90vh;
        }

        .draggable-mirror {
            opacity: 0.3;
            z-index: 999;
        }
        .draggable-source--is-dragging {
            opacity: 0.7;
            border: 2px dotted black;
            background-color: red;
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/draggable/1.0.0/draggable.bundle.legacy.min.js"></script>
</head>

<body>
    <div class="containter-fluid containter-fluid d-flex principalPC d-none d-md-block">
        <div class="row contenedorPC g-0">
            <div class="col-1 d-flex flex-column barraLateral">
                <a href="bots.html" class="col-2 botonBarraLateral">
                    <svg class="bi" width="32" height="32" fill="currentColor">
                        <use xlink:href="../resources/icons/bootstrap-icons.svg#robot" />
                    </svg>
                    <p class="d-none d-xl-block">Bots</p>
                </a>
                <a href="productos.html" class="col-2 botonBarraLateral">
                    <svg class="bi" width="32" height="32" fill="currentColor">
                        <use xlink:href="../resources/icons/bootstrap-icons.svg#bag-fill" />
                    </svg>
                    <p class="d-none d-xl-block">Productos</p>
                </a>
                <a href="chats.html" class="col-2 botonBarraLateral">
                    <svg class="bi" width="32" height="32" fill="currentColor">
                        <use xlink:href="../resources/icons/bootstrap-icons.svg#chat-dots" />
                    </svg>
                    <p class="d-none d-xl-block">Chats</p>
                </a>
                <a href="leads.html" class="col-2 botonBarraLateral active">
                    <svg class="bi" width="32" height="32" fill="currentColor">
                        <use xlink:href="../resources/icons/bootstrap-icons.svg#people" />
                    </svg>
                    <p class="d-none d-xl-block">Leads</p>
                </a>
                <a href="campaings.html" class="col-2 botonBarraLateral">
                    <svg class="bi" width="32" height="32" fill="currentColor">
                        <use xlink:href="../resources/icons/bootstrap-icons.svg#megaphone-fill" />
                    </svg>
                    <p class="d-none d-xl-block">Campañas</p>
                </a>
                <a href="../resources/include/logout.php" class="col-2 botonBarraLateral">
                    <svg class="bi" width="32" height="32" fill="currentColor">
                        <use xlink:href="../resources/icons/bootstrap-icons.svg#box-arrow-left" />
                    </svg>
                    <p class="d-none d-xl-block">Logout</p>
                </a>
            </div>
            <div class="col-11 d-flex flex-column contenidoPc">
                <div class="containter-fluid row g-0 d-flex barraSuperior">
                    <div class="col-2">
                        <div class="dropdown">
                            <button class="btn btn-primary dropdown-toggle" type="button" data-bs-toggle="dropdown"
                                aria-expanded="false">
                                Dropdown button
                            </button>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="#">Action</a></li>
                                <li><a class="dropdown-item" href="#">Another action</a></li>
                                <li><a class="dropdown-item" href="#">Something else here</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-8 row buscadorCompleto">
                        <input type="text" class="col-10 buscadorTexto">
                        <button type="button" class="btn btn-primary col-2">Buscar</button>
                    </div>
                    <div class="col-2 d-flex addNewButton">
                        <button type="button" class="btn btn-primary ">Add New +</button>
                    </div>
                </div>
                <div class="containter-fluid d-flex fasesContenedor">
                    <div class="card faseContenedor">
                        <div class="card-body">
                            <h5 class="card-title text-center">Nombre fase1</h5>
                            <h6 class="card-subtitle mb-2 text-body-secondary text-center">3 leads: 0$ </h6>
                            <div class="draggable-item cliente" id="item1">Cliente 1</div>
                            <div class="draggable-item cliente" id="item2">Cliente 2</div>
                        </div>
                    </div>
                    <div class="card faseContenedor">
                        <div class="card-body">
                            <h5 class="card-title text-center">Nombre fase2</h5>
                            <h6 class="card-subtitle mb-2 text-body-secondary text-center">4 leads: 0$ </h6>
                        </div>
                    </div>
                    <div class="card faseContenedor">
                        <div class="card-body">
                            <h5 class="card-title text-center">Nombre fase3</h5>
                            <h6 class="card-subtitle mb-2 text-body-secondary text-center">5 leads: 0$ </h6>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="containter-fluid d-flex flex-column principalMovil d-block d-md-none">
            <!-- contenido principal -->
            <div class="d-flex flex-column contenidoMovil">

            </div>

            <!-- botton-bar -->
            <div class="boton-bar d-flex">
                <a href="bots.html" class="col-2 botonesNavMovil">
                    <svg class="bi" width="32" height="32" fill="currentColor">
                        <use xlink:href="../resources/icons/bootstrap-icons.svg#robot" />
                    </svg>
                    <p>Bots</p>
                </a>
                <a href="productos.html" class="col-2 botonesNavMovil">
                    <svg class="bi" width="32" height="32" fill="currentColor">
                        <use xlink:href="../resources/icons/bootstrap-icons.svg#bag-fill" />
                    </svg>
                    <p>Productos</p>
                </a>
                <a href="chats.html" class="col-2 botonesNavMovil">
                    <svg class="bi" width="32" height="32" fill="currentColor">
                        <use xlink:href="../resources/icons/bootstrap-icons.svg#chat-dots" />
                    </svg>
                    <p>Chats</p>
                </a>
                <a href="leads.html" class="col-2 botonesNavMovil active">
                    <svg class="bi" width="32" height="32" fill="currentColor">
                        <use xlink:href="../resources/icons/bootstrap-icons.svg#people" />
                    </svg>
                    <p>Leads</p>
                </a>
                <a href="campaings.html" class="col-2 botonesNavMovil">
                    <svg class="bi" width="32" height="32" fill="currentColor">
                        <use xlink:href="../resources/icons/bootstrap-icons.svg#megaphone-fill" />
                    </svg>
                    <p>Campañas</p>
                </a>
                <a href="../resources/include/logout.php" class="col-2 botonesNavMovil">
                    <svg class="bi" width="32" height="32" fill="currentColor">
                        <use xlink:href="../resources/icons/bootstrap-icons.svg#box-arrow-left" />
                    </svg>
                    <p>Logout</p>
                </a>
            </div>
            <script src="/resources/lib/bootstrap.bundle.min.js"></script>
            <script>
                // Variable global para almacenar la tabla de elementos arrastrables
                let draggableTable = [];
        
                // Función para inicializar Draggable.Sortable
                function initDraggable() {
                    draggableTable = Array.from(document.querySelectorAll('.draggable-item'));
                    const draggableInstance = new Draggable.Sortable(document.querySelectorAll('.card-body'), {
                        draggable: '.draggable-item',
                        mirror: {
                            constrainDimensions: true,
                        }
                    });
                }
        
                function stopDraggable() {
                    // Eliminamos draggable-item a los clientes
                    draggableTable.forEach(item => item.classList.remove('draggable-item'));
                }
        
                function enableDraggable() {
                    // Agregamos draggable-item a los clientes
                    draggableTable.forEach(item => item.classList.add('draggable-item'));
                }
        
                function checkScreenSize() {
                    // Verificar el tamaño de la pantalla y orientación
                    if (window.innerWidth > 576) {
                        enableDraggable();
                    } else {
                        stopDraggable();
                    }
                }
        
                document.addEventListener('DOMContentLoaded', function () {
                    // Iniciamos el draggable
                    initDraggable()
                    // Verificar el tamaño de la pantalla al cargar la página
                    checkScreenSize();
        
                    // Escuchar cambios en el tamaño de la pantalla
                    window.addEventListener('resize', checkScreenSize);
        
                    // Escuchar cambios en la orientación
                    window.addEventListener('orientationchange', checkScreenSize);
                });
            </script>
</body>

</html>